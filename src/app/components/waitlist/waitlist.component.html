<div class="homepage_container">
  <canvas #confettiCanvas></canvas>

  <app-image [image]="imageUrl" [height]="imageHeight"></app-image>
  <p>
    Love beer deals like "<span>BUY 3 FOR R48 Valid until 31 March 2025</span>"?
    üçª <strong>Join our waitlist</strong> to get the hottest beer sales across
    all stores ‚Äì before anyone else!
  </p>

  @if(showInputValue == false){
  <button type="button" class="btn btn-secondary btn-sm" (click)="showInput()">
    Join waitlist
  </button>
  } @if (showInputValue ==true && showAlert == false) {
  <form [formGroup]="emailForm" (ngSubmit)="submit()">
    <div class="inside_form">
      <input
        type="email"
        class="form-control"
        formControlName="email"
        id="exampleFormControlInput1"
        placeholder="name@example.com"
      />
      <button
        type="button"
        [disabled]="emailForm.invalid"
        class="btn btn-success btn-sm"
        (click)="submit()"
      >
        Submit @if (loading == true) {
        <span
          class="spinner-border spinner-border-sm"
          aria-hidden="true"
        ></span>
        }
      </button>
    </div>
  </form>
  @if (emailForm.controls['email'].invalid &&
  emailForm.controls['email'].touched) {
  <div class="text-danger">
    @if (emailForm.controls['email'].errors?.['required']) {
    <div>Email is required.</div>
    } @if (emailForm.controls['email'].errors?.['email']) {
    <div>Please enter a valid email address.</div>
    }
  </div>
  } } @if (showAlert) {
  <app-alert
    [alertMessage]="errorMessage"
    [successAlert]="successResponse"
  ></app-alert>
  @if (successResponse == false) {
  <app-icons [icon]="icon" (click)="restart()"></app-icons>
  } }
</div>
